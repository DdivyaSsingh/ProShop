{"ast":null,"code":"import React,{useEffect}from\"react\";import{LinkContainer}from\"react-router-bootstrap\";import{Table,Button,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../Components/Message\";import Loader from\"../Components/Loader\";import{useNavigate}from\"react-router-dom\";import{listProducts,deleteProducts,createProducts}from\"../actions/productActions\";import{PRODUCT_CREATE_RESET}from\"../constants/productConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductListScreen=function ProductListScreen(){var dispatch=useDispatch();var navigate=useNavigate();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;useEffect(function(){dispatch({type:PRODUCT_CREATE_RESET});if(!userInfo.isAdmin){navigate('/login');}if(successCreate){navigate(\"/admin/product/\".concat(createdProduct._id,\"/edit\"));}else{dispatch(listProducts());}},[dispatch,userInfo,navigate,successCreate,createdProduct,successDelete]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are You Sure')){dispatch(deleteProducts(id));}};var createProductHandler=function createProductHandler(){dispatch(createProducts());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-end\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/product/\".concat(product._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{varaint:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(product._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},product._id);})})]})]});};export default ProductListScreen;","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Row","Col","useDispatch","useSelector","Message","Loader","useNavigate","listProducts","deleteProducts","createProducts","PRODUCT_CREATE_RESET","ProductListScreen","dispatch","navigate","productList","state","loading","error","products","userLogin","userInfo","productDelete","loadingDelete","errorDelete","successDelete","success","productCreate","loadingCreate","errorCreate","successCreate","createdProduct","product","type","isAdmin","_id","deleteHandler","id","window","confirm","createProductHandler","map","name","price","category","brand"],"sources":["C:/Users/ASUS/Desktop/Proshop/frontend/src/Screens/ProductListScreen.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button,Row,Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../Components/Message\";\r\nimport Loader from \"../Components/Loader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { listProducts, deleteProducts,createProducts } from \"../actions/productActions\";\r\nimport { PRODUCT_CREATE_RESET } from \"../constants/productConstants\";\r\n\r\nconst ProductListScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products } = productList;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;  \r\n  \r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const { loading:loadingDelete, error:errorDelete, success:successDelete } = productDelete;\r\n\r\n  const productCreate = useSelector((state) => state.productCreate);\r\n  const { loading:loadingCreate, error:errorCreate, success:successCreate,product: createdProduct } = productCreate;\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch({type: PRODUCT_CREATE_RESET});\r\n\r\n    if(!userInfo.isAdmin){\r\n        navigate('/login');\r\n    }\r\n    if(successCreate){\r\n        navigate(`/admin/product/${createdProduct._id}/edit`);\r\n    }\r\n    else{\r\n        dispatch(listProducts());\r\n    }\r\n    \r\n  },[dispatch,userInfo,navigate,successCreate,createdProduct,successDelete])  \r\n\r\n  const deleteHandler = (id) => {\r\n    if(window.confirm('Are You Sure')){\r\n        dispatch(deleteProducts(id));\r\n    }\r\n  }\r\n\r\n  const createProductHandler = () => {\r\n    dispatch(createProducts());\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Row className=\"align-items-center\">\r\n        <Col>\r\n            <h1>Products</h1>\r\n        </Col>\r\n        <Col className=\"text-end\">\r\n            <Button className=\"my-3\" onClick={createProductHandler}>\r\n                <i className=\"fas fa-plus\"/> Create Product\r\n            </Button>\r\n        </Col>\r\n    </Row>\r\n    {loadingDelete && <Loader/>}\r\n    {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n    {loadingCreate && <Loader/>}\r\n    {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n    {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message> : (\r\n        <Table striped bordered hover responsive className=\"table-sm\">\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>NAME</th>\r\n                    <th>PRICE</th>\r\n                    <th>CATEGORY</th>\r\n                    <th>BRAND</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead> \r\n            <tbody>\r\n                {products.map((product) => (\r\n                    <tr key={product._id}>\r\n                        <td>{product._id}</td>\r\n                        <td>{product.name}</td>\r\n                        <td>{product.price}</td>\r\n                        <td>{product.category}</td>\r\n                        <td>{product.brand}</td>\r\n                        <td>\r\n                            <LinkContainer to={`/admin/product/${product._id}/edit`}>\r\n                                <Button varaint='light' className=\"btn-sm\">\r\n                                    <i className=\"fas fa-edit\"/>\r\n                                </Button>\r\n                            </LinkContainer>\r\n                            <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(product._id)}>\r\n                                <i className=\"fas fa-trash\"/>\r\n                            </Button>\r\n                        </td>\r\n                    </tr>\r\n                ))\r\n                }\r\n            </tbody>\r\n        </Table>\r\n    )\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductListScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}