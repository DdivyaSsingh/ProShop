{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstants\";\nconst arr = [{\n  product: 0,\n  name: 'abc',\n  price: 10,\n  countInStock: 0,\n  qty: 7\n}];\nexport const cartReducer = function () {\n  var _state$cart$cartItems;\n\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: [...arr]\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const existItem = (_state$cart$cartItems = state.cart.cartItems) === null || _state$cart$cartItems === void 0 ? void 0 : _state$cart$cartItems.find(x => x.product === item.product);\n      if (existItem) return { ...state,\n        cartItems: state.cart.cartItems.map(x => x.product === existItem.product ? item : x)\n      };else return { ...state,\n        cartItems: [...state.cart.cartItems, item]\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","arr","product","name","price","countInStock","qty","cartReducer","state","cartItems","action","type","item","payload","existItem","cart","find","x","map"],"sources":["C:/Users/ASUS/Desktop/Proshop/frontend/src/reducers/cartReducer.js"],"sourcesContent":["import { CART_ADD_ITEM , CART_REMOVE_ITEM } from \"../constants/cartConstants\";\r\n\r\nconst arr = [{\r\n    product: 0,\r\n    name: 'abc',\r\n    price: 10,\r\n    countInStock: 0,\r\n    qty : 7   \r\n}]\r\n\r\nexport const cartReducer = (state = {cartItems : [...arr]}, action) => {\r\n    switch(action.type){\r\n        case CART_ADD_ITEM : \r\n            const item = action.payload;\r\n\r\n            const existItem = state.cart.cartItems?.find((x) => x.product === item.product);\r\n        \r\n            if(existItem)\r\n                return {\r\n                    ...state,\r\n                    cartItems : state.cart.cartItems.map((x) => x.product === existItem.product ? item : x)\r\n                }\r\n            else\r\n                return {\r\n                    ...state,\r\n                    cartItems : [...state.cart.cartItems , item]\r\n                }\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":"AAAA,SAASA,aAAT,EAAyBC,gBAAzB,QAAiD,4BAAjD;AAEA,MAAMC,GAAG,GAAG,CAAC;EACTC,OAAO,EAAE,CADA;EAETC,IAAI,EAAE,KAFG;EAGTC,KAAK,EAAE,EAHE;EAITC,YAAY,EAAE,CAJL;EAKTC,GAAG,EAAG;AALG,CAAD,CAAZ;AAQA,OAAO,MAAMC,WAAW,GAAG,YAA4C;EAAA;;EAAA,IAA3CC,KAA2C,uEAAnC;IAACC,SAAS,EAAG,CAAC,GAAGR,GAAJ;EAAb,CAAmC;EAAA,IAAXS,MAAW;;EACnE,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKZ,aAAL;MACI,MAAMa,IAAI,GAAGF,MAAM,CAACG,OAApB;MAEA,MAAMC,SAAS,4BAAGN,KAAK,CAACO,IAAN,CAAWN,SAAd,0DAAG,sBAAsBO,IAAtB,CAA4BC,CAAD,IAAOA,CAAC,CAACf,OAAF,KAAcU,IAAI,CAACV,OAArD,CAAlB;MAEA,IAAGY,SAAH,EACI,OAAO,EACH,GAAGN,KADA;QAEHC,SAAS,EAAGD,KAAK,CAACO,IAAN,CAAWN,SAAX,CAAqBS,GAArB,CAA0BD,CAAD,IAAOA,CAAC,CAACf,OAAF,KAAcY,SAAS,CAACZ,OAAxB,GAAkCU,IAAlC,GAAyCK,CAAzE;MAFT,CAAP,CADJ,KAMI,OAAO,EACH,GAAGT,KADA;QAEHC,SAAS,EAAG,CAAC,GAAGD,KAAK,CAACO,IAAN,CAAWN,SAAf,EAA2BG,IAA3B;MAFT,CAAP;;IAKR;MACI,OAAOJ,KAAP;EAlBR;AAoBH,CArBM"},"metadata":{},"sourceType":"module"}